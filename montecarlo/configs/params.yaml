---
# -----------------------------------------------------------------------------------------------------------
# physical properties
# -----------------------------------------------------------------------------------------------------------
mass : 1.0 # kg
area : 0.01 # face area m^2
inertia : [0.001796, 0.0, 0.000716, 
               0.0, 0.002081, 0.0,
          0.000716, 0.0, 0.002232]
# [0.002232, 0.0, 0.0, 
#      0.0, 0.001, 0.0,
#      0.0, 0.0, 0.001]
Cd : 2.2 # Drag coefficient
CR : 1.8 # Reflectivity coefficient

# -----------------------------------------------------------------------------------------------------------
# Reaction Wheels
# -----------------------------------------------------------------------------------------------------------
N_rw : 1                   # number of reaction wheels
rw_orientation : [0,0,1] # spin axis of each reaction wheel in the body frame
I_rw : 6.5e-7              # kg.m^2 inertia of each reaction wheel
m_rw: 0.002                # kg mass of each reaction wheel
max_torque : 0.001         # N.m maximum torque that can be applied by each reaction wheel
max_speed : 600            # rad/s maximum speed that can be achieved by each reaction wheel
nom_rw_ang_vel: 30        # rad/s nominal angular velocity of the reaction wheels

# -----------------------------------------------------------------------------------------------------------
# Magnetorquers
# -----------------------------------------------------------------------------------------------------------
N_mtb : 6                                     # number of magnetorquers
mtb_orientation : [1,0,0, 
                   0,1,0, 
                   0,0,1, 
                   1,0,0, 
                   0,1,0, 
                   0,0,1] # alignment axis of each magnetorquer in the body frame
mtb_resistance : 3.25e-7 # [UNITS: Ω]
A_cross : 5.4326e-3 # [UNITS : m^2]
N_turns : 64
max_voltage : 5  # V maximum voltage that can be applied by each magnetorquer
max_current_rating : 1.0  # A
max_power : 1  # W

# -----------------------------------------------------------------------------------------------------------
# Payload
# -----------------------------------------------------------------------------------------------------------
nadir_cam_dir: [-1,0, 0] # direction of payload camera(s) in the body frame

# -----------------------------------------------------------------------------------------------------------
# Sensors
# -----------------------------------------------------------------------------------------------------------
gps_pos_std : 10 # [UNITS: m]
gps_vel_std : 1 # [UNITS: m/s]

num_photodiodes : 6
photodiode_normals : [1,0,0, 
                       0,1,0, 
                       0,0,1, 
                      -1,0,0, 
                       0,-1,0, 
                       0,0,-1] # Light diode normals in body frame
photodiode_std : 1000 # [UNITS: lux]

magnetometer_noise_std : 0.005 # [UNITS: T]

gyro_sigma_w : 2.66e-05 # Bias dynamics [UNITS: rad/s^2/√Hz]
gyro_sigma_v : 1.87e-04 # Additive white noise [UNITS: rad/s/√Hz]
gyro_correlation_time : 500000.0 # [UNITS: s]
gyro_scale_factor_err : 1.0e-5

# -----------------------------------------------------------------------------------------------------------
# Sim settings
# -----------------------------------------------------------------------------------------------------------
MAX_TIME: 108000 # [s]
dt: 0.01         # [s]
earliest_sim_start_time_UTC: 2024-10-01 12:00:00
latest_sim_start_time_UTC: 2024-10-28 23:59:59
useDrag : False
useSRP : False

# -----------------------------------------------------------------------------------------------------------
# Initialization
# -----------------------------------------------------------------------------------------------------------
semimajor_axis : 6908000 # [m]
eccentricity : 0.007 
inclination : 97.75 # [deg]
RAAN : 171 # [deg]
AOP : 63 # [deg]
true_anomaly : 0 # [deg]
initial_attitude : [1,0,0,0] 
initial_angular_rate : [0.2,0.3,0.2] # [rad/s]

# -----------------------------------------------------------------------------------------------------------
# Controller Parameters
# -----------------------------------------------------------------------------------------------------------
algorithm: "Bcross" # "Lyapunov" # "BaseSP" # "BaseNP" # # "BCROSS" or "PID" or "BaseSP"
bcrossgain: 0.0028

mtb_att_feedback_gains: [[0.7071, 0.0, 0.0, 0.0028, 0.0, 0.0],
                    [0.0, 0.7071, 0.0, 0.0, 0.0028, 0.0],
                    [0.0, 0.0, 0.7071, 0.0, 0.0, 0.0028]]
rw_att_feedback_gains: [0.7071, 0.0028]
rw_vel_gain: 6.5e-7
pointing_mode: "spin-stabilized" # "detumble" # "detumble" or "spin-stabilized" or "3D-stabilized"
pointing_target: "Nadir" # "Nadir" or "Sun"
tgt_ss_ang_vel: 10 # [deg/s]
controller_dt: 1 # [s]
estimator_dt: 1    # [s]

# -----------------------------------------------------------------------------------------------------------
# PARAMETER DISPERSION
# -----------------------------------------------------------------------------------------------------------

# Mass
min_mass : 0.5 # Min allowable mass [kg]
mass_dev : 50 # Stddev from nominal mass as a % of nominal mass [%]
max_mass : 2.0 # Max allowable mass [kg]

# Area
min_area : 0.01 # Min area [m^2]
area_dev : 20 # stddev from nominal area as a % of nominal area [%]

# Inertia
principal_axis_dev : [20,20,20] # stddev of principal axis inertias about nominal as a % of nominal [%]

# Reaction wheels
rw_orientation_dev : 0.001 # stddev of angular mounting error about nominal normal vector [rad]
I_rw_dev : 20 # stddev from nominal I_rw as a % of nominal I_rw [%]

# Magnetorquers
mtb_orientation_dev : 0.001 # stddev of angular mounting error about nominal normal vector for each MTB [rad]
mtb_resistance_dev : 20 # stddev from nominal resistance as a % of nominal resistance [%]

# GPS
gps_pos_std_dev : 20 # stddev of uncertainity in GPS position error estimation as a % of nominal error stddev [%] - Is an error of an error
gps_vel_std_dev : 20 # stddev of uncertainity in GPS position error estimation as a % of nominal error stddev [%]

# Photodiodes
photodiode_orientation_dev : 0.001 # stddev of angular mounting error about nominal normal vector for each photodiode [rad]
photodiode_std_dev : 20 # stddev of uncertainity in photodiode lux error estimation as a % of nominal error stddev [%]

# Magnetometer
magnetometer_std_dev : 20 # stddev of uncertainity in magnetometer error estimation as a % of nominal error stddev [%]

# Gyroscope
gyro_sigma_w_dev : 20 # stddev of uncertainity in bias dynamics estimation as a % of nominal error stddev [%]
gyro_sigma_v_dev : 20 # stddev of uncertainity in white noise estimation as a % of nominal error stddev [%]

# Initialization
# All orbital elements in this section are expressed as the stddev from nominal parameter value as a % of nominal parameter value
semimajor_axis_dev : 1 #  [%]
eccentricity_dev : 20 # [%]
inclination_dev : 20 # [%]
RAAN_dev : 20 # [%]
AOP_dev : 20 # [%]
true_anomaly_dev : 20 # [%]
initial_angular_rate_bound : 1 # Max initial angular rate about any axis [rad/s]
